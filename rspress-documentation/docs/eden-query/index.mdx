---
title: Overview
titleSuffix: Eden-Query - Elysia.js
---

import { Integration } from '../../src/components/integration'


# Introduction

Eden-Query is a type-safe, API client for [Elysia.js](https://elysiajs.com) that provides
asynchronous state management with [Tanstack Query](https://tanstack.com/query/latest).

<Integration />

The Eden-Query project is a collection of libraries that includes the RPC client, [`@ap0nia/eden`](/eden),
and framework-specific integrations, such as [`@ap0nia/eden-react-query`](/eden-query/react) and
[`@ap0nia/eden-svelte-query`](/eden-query/svelte) for React and Svelte respectively.

> [!NOTE]
> The [`@ap0nia/eden`](/eden) library is a distinct, but functionally identical implementation of the
> official [`@elysiajs/eden`](https://elysiajs.com/eden/overview.html) library.

## Why

Eden-Query is most valuable to ***frontend projects that connect to an Elysia.js backend***.
The Elysia.js types may be exposed from a separate project within a monorepo, or within a
single project that leverages a full-stack solution such as Next.js or SvelteKit.

See the [`examples` directory](https://github.com/ap0nia/eden-query/tree/main/examples) for examples.

## Features

- 🌎 Framework agnostic.
- 🦺 Full end-to-end type-safety.
- ✅ Fully supports REST API standards.
- 🖥️SSR support and examples.
- ✨ Reactive and infinite queries.
- ⚡ Batching requests on both the client and server.
- 🔗 Links for customizing the flow of data.
- 👀 Data transformers for enhanced JSON handling.

## Related Projects

### [tRPC](https://trpc.io)

tRPC is a type-safe, full-stack integration that allows developers to easily types
between their frontend and backend without code generation.

The core architecture and public API of Eden-Query was inspired by tRPC, making transitions
between the two libraries feel seamless.

Some documentation may link to this project to provide additional information and context.

## Examples

```typescript twoslash
import { Elysia, t } from 'elysia'

new Elysia()
	.patch('/profile', ({ body }) => body.profile, {
	                    // ^?




		body: t.Object({
			id: t.Number(),
			profile: t.File({ type: 'image' })
		})
	})
	.listen(3000)
```

```typescript twoslash
// @errors: 2345
import { Elysia, t } from 'elysia'

new Elysia()
	.get('/profile', ({ error }) => {
		if(Math.random() > .5)
			return error(418, 'Mika')

		return 'ok'
	}, {
		response: {
			200: t.Literal('ok'),
			418: t.Literal('Nagisa')
		}
	})
	.listen(3000)
```

```typescript twoslash
// @noErrors
import { Elysia, t } from 'elysia'

const role = new Elysia({ name: 'macro' })
	.macro(({ onBeforeHandle }) => ({
		role(type: 'user' | 'staff' | 'admin') {
			onBeforeHandle(({ headers, error }) => {
				if(headers.authorization !== type)
					return error(401)
			})
		}
	}))

new Elysia()
	.use(role)
	.get('/admin/check', 'ok', {
        r
      // ^|
	})
	.listen(3000)
```

```typescript
import { Elysia } from 'elysia'
import swagger from '@elysiajs/swagger'

new Elysia()
	.use(swagger())
	.use(character)
	.use(auth)
	.listen(3000)
```

```typescript twoslash
// @noErrors
// @filename: server.ts
import { Elysia, t } from 'elysia'

const app = new Elysia()
    .patch(
        '/profile',
        ({ body, error }) => {
            if(body.age < 18)
                return error(400, "Oh no")

            return body
        },
        {
            body: t.Object({
                age: t.Number()
            })
        }
    )
    .listen(80)

export type App = typeof app

// @filename: client.ts
// ---cut---
import { treaty } from '@elysiajs/eden'
import type { App } from './server'

const api = treaty<App>('api.elysiajs.com')

const { data } = await api.profile.patch({
      // ^?
    age: 21
})
```

```typescript twoslash
// @errors: 2345 2304
// @filename: index.ts
import { Elysia, t } from 'elysia'

export const app = new Elysia()
    .put(
        '/user',
        ({ body, error }) => {
        	if(body.username === 'mika')
				return error(400, {
					success: false,
					message: 'Username already taken'
				} as const)

            return {
            	success: true,
             	message: 'User created'
            } as const
        },
        {
            body: t.Object({
            	username: t.String(),
             	password: t.String()
            })
        }
    )

// @filename: client.ts
// ---cut---
import { treaty } from '@elysiajs/eden'
import { app } from './index'
import { test, expect } from 'bun:test'

const server = treaty(app)

test('should handle duplicated user', async () => {
	const { error } = await server.user.put({
	    username: 'mika',
	})

	expect(error?.value).toEqual({
		success: false,
		message: 'Username already taken'
	})
})
```
